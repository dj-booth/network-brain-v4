---
description: Apply these rules when making changes to the project
globs:
alwaysApply: true
---

Update this rule if user requested changes to the project requirement, etc.
# Network Brain v4 App Flow Document

## Onboarding and Sign-In/Sign-Up

When a new admin user accesses the application, they are greeted with a simple landing page that explains the purpose of Network Brain v4. The landing page clearly suggests using Google OAuth for secure sign-in, so the admin is guided to click a prominent button to initiate the Google sign-in process. Once the OAuth flow is initiated, the admin is redirected to Google for authentication and upon success, returns to the application with a valid session. Signing out is made evident through a clearly labeled option in the header or navigation menu. In case the admin loses access or encounters issues with Google authentication, there is a recovery or help link that offers guidance on troubleshooting Google OAuth or reinitiating the sign-in process. Since the application is designed for a single admin user with Google integration, the sign-up is inherently streamlined with no need for additional sign-up methods.

## Main Dashboard or Home Page

Upon logging in, the admin lands on the main dashboard which is built with a clean, light background color and clearly defined typography. The dashboard acts as the hub for all activities and features, presenting a succinct overview of recently created profiles, recent actions such as edits or email drafts, and any pending alerts like failed MCP scrapes. The upper section of the dashboard contains navigation elements that allow the admin to move to different sections such as detailed profile views, email drafting interfaces, and audit log searches. Additionally, a sidebar or top navigation menu provides direct links to a settings area for account management and system configuration, ensuring the user can easily traverse between data overview and specific tasks.

## Detailed Feature Flows and Page Transitions

When a new profile is submitted through the Formless.ai Typeform, the data capture workflow is triggered automatically via a Zapier webhook that populates the Supabase database. Although this process is invisible to the admin, it results in the creation of a structured profile record with rich details including contact information and initial form data. The application then automatically initiates the browser-based MCP scraping process to enrich the profile with additional information from LinkedIn and other external sources. Once the enrichment is complete and AI-generated embeddings such as introduction drafts, introductions sought, and reasons to introduce are compiled, the admin can navigate to the detailed profile view using a clear call-to-action from the dashboard. This view displays the original Formless data alongside enriched information, AI-generated summaries, and a credibility score that ranges from 0.000 to 10.000. The admin is able to manually adjust the embeddings and credibility score using a user-friendly WYSIWYG editor integrated within the React Native UI. From the profile page, transitions are managed through intuitive actions like clicking on dynamic buttons or links that take the admin back to the dashboard or onward to other tasks such as email drafting.

When the admin moves to the Email Interface, the Gmail integration comes into play. Here, using Gmail OAuth, the admin composes email drafts directly within the application. Once the content is approved and sent, the action is logged in both the email_logs and audit_logs tables in Supabase. The email drafting interface allows switching seamlessly back to either the main dashboard or the detailed profile view, ensuring continuity in the workflow. Even specialized workflows, such as re-triggering the MCP scraping process manually or editing previously sent draft emails, are accessible from the detailed profile page and maintain a smooth user journey through clear, linked transitions.

## Settings and Account Management

Settings and account management are accessible via a dedicated section typically linked from a header or a profile icon. Within this settings area, the admin has the ability to update personal information associated with the Google account used for authentication, adjust notification preferences such as toggle switches for receiving alerts on system errors or failed scrapes, and manage interface customizations including preferred color themes. Although there is no billing or subscription management in the initial version, any future configuration options are planned to be integrated within this same section. Transitions from the settings page back to the dashboard or any other part of the tool are seamless, thanks to a persistent navigation structure that remains visible on all pages.

## Error States and Alternate Paths

The application has been designed to ensure that any error in key processes such as MCP scraping, email drafting, or data submission is clearly displayed to the admin. When a scraping failure occurs, for instance, an alert appears at the top of the affected profile view indicating that a re-scrape or review is needed. Similarly, if an email sending error occurs via the Gmail integration, the admin is notified with an error message that explains the situation and suggests corrective action. In cases where an invalid input is provided on a form or during profile editing, the interface shows an inline error message next to the incorrect input field and provides a clear explanation of what needs to be corrected. If connectivity issues arise, the application displays a fallback message that guides the admin on steps to retry the action. Upon encountering any such errors, the admin is always provided with an easy option to return to the main dashboard or retry the process, ensuring smooth recovery and continuity in workflow.

## Conclusion and Overall App Journey

The journey through Network Brain v4 begins with a straightforward and secure onboarding process where the admin uses Google OAuth to gain access. Once logged in, the main dashboard provides a clear snapshot of all recent activities including new profile additions, enriched data, and any alerts related to MCP scraping or other system errors. From this central hub, the admin can navigate to detailed profile pages where initial Formless submissions are enriched with external data, reviewed, and manually adjusted using AI-generated embeddings and credibility scoring. The Gmail integration allows for seamless drafting and sending of emails, with every action carefully logged to support ongoing audit trails and system transparency. The application also includes a dedicated settings area for managing account details and notifications, thereby maintaining a consistent and accessible flow throughout. In summary, Network Brain v4 is designed to provide a smooth, interconnected experience that guides the admin from sign-in to day-to-day operations, ensuring high data integrity, effective communication, and continuous monitoring for optimal performance.